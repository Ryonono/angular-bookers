<h2>Edit Book</h2>

<p>This is the edit page of book.</p>

<div *ngIf="book">

  <div class="col-md-10 book-form">
    <form [formGroup]="bookEditForm">

      <div class="mb-2 input-text">
        <p><label class="form-label" for="title">Title: </label></p>
        <input id="title" type="text" formControlName="title" #bookTitle [(ngModel)]="book.title">

        <div class="mt-2" *ngIf="title.invalid && (title.dirty || title.touched)" class="alert alert-danger">
          <div *ngIf="title.errors?.['required'] || title.errors?.['notOnlyWhiteSpace']">
            Title is required.
          </div>
          <div *ngIf="title.errors?.['minlength']">
            Title must be at least two characters long.
          </div>
        </div>
      </div>

      <div class="mb-2 input-text">
        <p><label class="form-label" for="comment">Comment: </label></p>
        <textarea id="comment" type="text" formControlName="comment" #bookComment [(ngModel)]="book.comment"></textarea>

        <div class="mt-2" *ngIf="comment.invalid && (comment.dirty || comment.touched)" class="alert alert-danger">
          <div *ngIf="comment.errors?.['required'] || comment.errors?.['notOnlyWhiteSpace']">
            Comment is required.
          </div>
          <div *ngIf="comment.errors?.['minlength']">
            Comment must be at least two characters long.
          </div>
        </div>
      </div>

      <p><button class="btn btn-outline-warning" type="button" [disabled]="!bookEditForm.valid"
          (click)="update(bookTitle.value, bookComment.value); bookTitle.value=''; bookComment.value=''; goToBooks()">Update
          Book</button></p>

    </form>

    <button class="btn btn-outline-danger mt-2 mb-2" (click)="delete(book); goToBooks()">Delete</button>
    <p><a class="btn btn-outline-secondary" [routerLink]="['/books']">To Index Page</a></p>
  </div>

</div>